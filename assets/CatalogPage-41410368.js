import{r as o,j as s,n as D}from"./index-1efc1db9.js";import{u as m,C as F,I as R,a as P,T as b,P as I,S as E,s as i,L as B,b as O,R as T,c as G,d as H,D as U,e as r,f as a,g as V,M as q,h as z,i as J,j as K}from"./useAdvert-5cf95637.js";const N="/on_the_go/assets/Automatic-a622caa4.svg",Q=({advert:e})=>{const[c,x]=o.useState(!1),[l,d]=o.useState(!1),{addFavorite:j,removeFavorite:u,favorite:n}=m();o.useEffect(()=>{d(n.some(t=>t._id===e._id))},[e,n]);const g=()=>{x(!c)},C=()=>{const t=n.some(f=>f._id===e._id);t?u(e):j(e),d(!t)},{_id:p,name:v,price:_,rating:S,location:k,reviews:L,adults:$,description:y,details:h,gallery:M,transmission:w,engine:A}=e;return s.jsx(s.Fragment,{children:s.jsxs(F,{children:[s.jsx(R,{src:M[0],alt:"img"}),s.jsxs(P,{children:[s.jsxs(b,{children:[s.jsxs("h2",{children:[" ",v]}),s.jsxs(I,{children:[_,s.jsx(E,{isFavorite:l,children:s.jsx("use",{href:`${i}#icon-heart__Default`,onClick:C})})]})]}),s.jsxs(B,{children:[s.jsx(O,{children:s.jsx("use",{href:`${i}#Rating`})}),s.jsxs(T,{children:[s.jsx("p",{children:S}),s.jsxs("p",{children:["(",L.reduce((t,f)=>t+f.reviewer_rating,0)," ","Reviews)"]})]}),s.jsxs(G,{children:[s.jsx(H,{children:s.jsx("use",{href:`${i}#icon-map-pin`})}),s.jsxs("p",{children:[" ",k]})]})]}),s.jsx(U,{children:y}),s.jsxs(r,{children:[s.jsx(a,{children:s.jsx("use",{href:`${i}#icon-Users`})}),$," adults"]}),s.jsxs(r,{children:[s.jsx(a,{children:s.jsx("use",{href:`${N}`})}),w]}),s.jsxs(r,{children:[s.jsx(a,{children:s.jsx("use",{href:`${i}#icon-Petrol`})}),A]}),h.kitchen>0?s.jsxs(r,{children:[s.jsx(a,{children:s.jsx("use",{href:`${i}#icon-kitchen`})}),h.kitchen.length>0?"kitchen":null," kitchen"]}):null,s.jsxs(r,{children:[s.jsx(a,{children:s.jsx("use",{href:`${i}#icon-beds`})}),h.beds," beds"]}),s.jsxs(r,{children:[s.jsx(a,{children:s.jsx("use",{href:`${i}#icon-AC`})}),h.airConditioner.length>0?"airConditioner":null," AC"]}),s.jsx(V,{type:"button",onClick:g,children:"Show more"})]}),c&&s.jsx(q,{onClose:g,children:s.jsx(z,{id:p,toggleModal:g})})]},p)})},W=()=>{const[e,c]=o.useState(5),{getAdvert:x,adverts:l,isLoading:d}=m(),j=l?l.slice(0,e):[];o.useEffect(()=>{x()},[]);const u=()=>{c(e+5)};return d?s.jsx("p",{children:"Loading..."}):s.jsxs(J,{children:[s.jsx("ul",{children:j.map(n=>s.jsx("li",{children:s.jsx(Q,{advert:n})},n._id))}),s.jsx(K,{onClick:u,children:"Load More"})]})},X=D.div`
  display: flex;
  justify-content: center;
  align-items: center;
  padding-top: 32px;
`,ss=()=>s.jsx(X,{children:s.jsx(W,{})});export{ss as default};
