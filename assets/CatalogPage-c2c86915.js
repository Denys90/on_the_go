import{r as c,j as s,n as R}from"./index-5336fd5c.js";import{u as m,C as D,I as b,a as I,T as P,P as A,S as E,s as i,L as B,b as O,R as T,c as G,d as H,D as V,e as t,f as o,g as q,M as z,h as J,i as K,j as N}from"./useAdvert-eb90c850.js";const Q=({advert:e})=>{const[a,x]=c.useState(!1),[l,d]=c.useState(!1),{addFavorite:j,removeFavorite:u,favorite:n}=m();c.useEffect(()=>{d(n.some(r=>r._id===e._id))},[e,n]);const g=()=>{x(!a)},C=()=>{const r=n.some(f=>f._id===e._id);r?u(e):j(e),d(!r)},{_id:p,name:v,price:S,rating:k,location:L,reviews:_,adults:$,description:w,details:h,gallery:y,transmission:M,engine:F}=e;return s.jsx(s.Fragment,{children:s.jsxs(D,{children:[s.jsx(b,{src:y[0],alt:"img"}),s.jsxs(I,{children:[s.jsxs(P,{children:[s.jsxs("h2",{children:[" ",v]}),s.jsxs(A,{children:[S,s.jsx(E,{isFavorite:l,children:s.jsx("use",{href:`${i}#icon-hart`,onClick:C})})]})]}),s.jsxs(B,{children:[s.jsx(O,{children:s.jsx("use",{href:`${i}#Rating`})}),s.jsxs(T,{children:[s.jsx("p",{children:k}),s.jsxs("p",{children:["(",_.reduce((r,f)=>r+f.reviewer_rating,0)," ","Reviews)"]})]}),s.jsxs(G,{children:[s.jsx(H,{children:s.jsx("use",{href:`${i}#icon-map`})}),s.jsxs("p",{children:[" ",L]})]})]}),s.jsx(V,{children:w}),s.jsxs(t,{children:[s.jsx(o,{children:s.jsx("use",{href:`${i}#icon-users`})}),$," adults"]}),s.jsxs(t,{children:[s.jsx(o,{children:s.jsx("use",{href:`${i}#icon-conect`})}),M]}),s.jsxs(t,{children:[s.jsx(o,{children:s.jsx("use",{href:`${i}#icon-gasstation`})}),F]}),h.kitchen>0?s.jsxs(t,{children:[s.jsx(o,{children:s.jsx("use",{href:`${i}#icon-fork`})}),h.kitchen.length>0?"icon-fork":null," kitchen"]}):null,s.jsxs(t,{children:[s.jsx(o,{children:s.jsx("use",{href:`${i}#icon-bed`})}),h.beds," beds"]}),s.jsxs(t,{children:[s.jsx(o,{children:s.jsx("use",{href:`${i}#icon-microwave`})}),h.airConditioner.length>0?"icon-microwave":null," AC"]}),s.jsx(q,{type:"button",onClick:g,children:"Show more"})]}),a&&s.jsx(z,{onClose:g,children:s.jsx(J,{id:p,toggleModal:g})})]},p)})},U=()=>{const[e,a]=c.useState(5),{getAdvert:x,adverts:l,isLoading:d}=m(),j=l?l.slice(0,e):[];c.useEffect(()=>{x()},[]);const u=()=>{a(e+5)};return d?s.jsx("p",{children:"Loading..."}):s.jsxs(K,{children:[s.jsx("ul",{children:j.map(n=>s.jsx("li",{children:s.jsx(Q,{advert:n})},n._id))}),s.jsx(N,{onClick:u,children:"Load More"})]})},W=R.div`
  display: flex;
  justify-content: center;
  align-items: center;
  padding-top: 32px;
`,Z=()=>s.jsx(W,{children:s.jsx(U,{})});export{Z as default};
